<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>链表</title>
</head>
<body>
<p>
    要存储多个元素，数组（或列表）可能是最常用的数据结构。正如本书之前提到过的，每种<br>
    语言都实现了数组。这种数据结构非常方便，提供了一个便利的[]语法来访问它的元素。然而，<br>
    这种数据结构有一个缺点：（在大多数语言中）数组的大小是固定的，从数组的起点或中间插入<br>
    或移除项的成本很高，因为需要移动元素（尽管我们已经学过的JavaScript的array类方法可以帮<br>
    我们做这些事，但背后的情况同样是这样）。<br>
</p>
<p>
    链表存储有序的元素集合，但不同于数组，链表中的元素在内存中并不是连续放置的。每个<br>
    元素由一个存储元素本身的节点和一个指向下一个元素的引用（也称指针或链接）组成。下<br>
</p>
<p>
    相对于传统的数组，链表的一个好处在于，添加或移除元素的时候不需要移动其他元素。然<br>
    而，链表需要使用指针，因此实现链表时需要额外注意。数组的另一个细节是可以直接访问任何<br>
    位置的任何元素，而要想访问链表中间的一个元素，需要从起点（表头）开始迭代列表直到找到<br>
    所需的元素。<br>
</p>
<script type="text/javascript">
    /***********************************************************************************************************/
    //创建链表
    function LinkedList() {
        /**
         *LinkedList数据结构还需要一个Node辅助类
         *Node类表示要加入列表的项
         *它包含一个element属性，即要添加到列表的值
         * 以及一个next属性，即指向列表中下一个节点项的指针
        **/
        let Node = function(element){
            this.element = element;
            this.next = null;
        };
        /**
         * LinkedList类也有存储列表项的数量的length属性（内部/私有变量）
         * **/
        let length = 0;
        /**
         *另一个重要的点是，我们还需要存储第一个节点的引用。为此，可以把这个引用存储在一个称为head的变量中
         * **/
        let head = null;
        /**
         * 然后就是LinkedList类的方法。在实现这些方法之前，先来看看它们的职责。
          append(element)：向列表尾部添加一个新的项。
          insert(position, element)：向列表的特定位置插入一个新的项。
          remove(element)：从列表中移除一项。
          indexOf(element)：返回元素在列表中的索引。如果列表中没有该元素则返回-1。
          removeAt(position)：从列表的特定位置移除一项。
          isEmpty()：如果链表中不包含任何元素，返回true，如果链表长度大于0则返回false。
          size()：返回链表包含的元素个数。与数组的length属性类似。
          toString()：由于列表项使用了Node类，就需要重写继承自JavaScript对象默认的toString方法，让其只输出元素的值。
         * **/

        /**
         * 向链表尾部追加元素
         * 向LinkedList对象尾部添加一个元素时，可能有两种场景
         * 列表为空，添加的是第一个元素
         * 列表不为空，向其追加元素
         * **/
        this.append = function(element){
            //首先需要做的是把element作为值传入，创建Node项
            let node = new Node(element),
                current; //{2}
            /**
             * 先来实现第一个场景：向为空的列表添加一个元素。当我们创建一个LinkedList对象时，head会指向null
             * 如果head元素为null），就意味着在向列表添加第一个元素。
             * 因此要做的就是让head元素指向node元素。下一个node元素将会自动成为null
             * **/
            if (head === null){
                head = node;
            } else {
                /**
                 * 要向列表的尾部添加一个元素，首先需要找到最后一个元素。
                 * 我们只有第一个元素的引用
                 * **/
                current = head;
                //因此需要循环访问列表，直到找到最后一项。
                while(current.next){
                    current = current.next;
                }
                //找到最后一项，将其next赋为node，建立链接
                current.next = node;
            }
            length++; //更新列表的长度
        };
        this.insert = function(position, element){};
        /**
         * 从链表中移除元素
         * 移除元素也有两种场景：第一种是移除第一个元素
         * 第二种是移除第一个以外的任一元素
         * **/
        this.removeAt = function(position){
            //检查越界值
            if (position > -1 && position < length){ // {1}
                let current = head, // {2}
                    previous, // {3}
                    index = 0; // {4}
                //移除第一项
                if (position === 0){ // {5}
                    head = current.next;
                } else {
                    while (index++ < position){ // {6}
                        previous = current; // {7}
                        current = current.next; // {8}
                    }
                    //将previous与current的下一项链接起来：跳过current，从而移除它
                    previous.next = current.next; // {9}
                }
                length--; // {10}
                return current.element;
            } else {
                return null; // {11}
            }
        };
        this.remove = function(element){};
        this.indexOf = function(element){};
        this.isEmpty = function() {};
        this.size = function() {};
        this.getHead = function(){};
        this.toString = function(){};
        this.print = function(){};
    }

    let list = new LinkedList();
    list.append(15);
    list.append(10);
    console.log(list)
</script>
</body>
</html>
